const i18n = {
    currentLanguage: 'en',
    translations: {
        en: {
            'app.title': 'Secure Vault',
            'app.subtitle': 'Secure password manager and authenticator',

            'nav.passwords': 'Passwords',
            'nav.passwords.tooltip': 'Manage your passwords',
            'nav.authenticator': 'Authenticator',
            'nav.authenticator.tooltip': 'Two-factor authentication codes',
            'nav.settings': 'Settings',
            'nav.settings.tooltip': 'Application settings',
            'nav.help': 'Help',
            'nav.help.tooltip': 'Usage guide and documentation',

            'lock.subtitle': 'Enter your master password to unlock your vault',
            'lock.master_password': 'Master Password',
            'lock.enter_password': 'Enter your master password...',
            'lock.unlock_vault': 'Unlock Vault',

            'setup.title': 'Setup Master Password',
            'setup.description': 'Create a strong master password to secure your vault',
            'setup.master_password': 'Master Password',
            'setup.enter_password': 'Enter a strong master password...',
            'setup.confirm_password': 'Confirm Password',
            'setup.create_vault': 'Create Vault',

            'header.lock_vault': 'Lock Vault',

            'passwords.title': 'Password Manager',
            'passwords.subtitle': 'Securely store and manage your passwords',
            'passwords.search': 'Search & Actions',
            'passwords.add_password': 'Add Password',
            'passwords.search_placeholder': 'Search passwords...',
            'passwords.all_categories': 'All Categories',
            'passwords.category_website': 'Website',
            'passwords.category_app': 'Application',
            'passwords.category_email': 'Email',
            'passwords.category_social': 'Social Media',
            'passwords.category_financial': 'Financial',
            'passwords.category_other': 'Other',
            'passwords.your_passwords': 'Your Passwords',
            'passwords.total': 'Total',
            'passwords.no_passwords': 'No passwords stored yet',
            'passwords.add_first_password': 'Add your first password to get started',
            'passwords.name': 'Name',
            'passwords.name_placeholder': 'Enter a descriptive name...',
            'passwords.username': 'Username/Email',
            'passwords.username_placeholder': 'Enter username or email...',
            'passwords.password': 'Password',
            'passwords.password_placeholder': 'Enter password...',
            'passwords.url': 'URL',
            'passwords.url_placeholder': 'https://example.com',
            'passwords.category': 'Category',
            'passwords.notes': 'Notes',
            'passwords.notes_placeholder': 'Additional notes (optional)...',
            'passwords.edit_password': 'Edit Password',
            'passwords.delete_password': 'Delete Password',
            'passwords.copy_username': 'Copy Username',
            'passwords.copy_password': 'Copy Password',
            'passwords.visit_website': 'Visit Website',
            'passwords.generate_password': 'Generate Password',
            'passwords.strength_very_weak': 'Very Weak',
            'passwords.strength_weak': 'Weak',
            'passwords.strength_fair': 'Fair',
            'passwords.strength_good': 'Good',
            'passwords.strength_strong': 'Strong',

            'authenticator.title': 'Authenticator',
            'authenticator.subtitle': 'Two-factor authentication codes',
            'authenticator.add_account': 'Add Account',
            'authenticator.scan_qr': 'Scan QR Code',
            'authenticator.scan_desktop': 'Scan Desktop',
            'authenticator.manual_entry': 'Manual Entry',
            'authenticator.description': 'Add accounts to generate time-based one-time passwords (TOTP) for two-factor authentication',
            'authenticator.desktop_scan_description': 'Scan QR codes from your desktop screen',
            'authenticator.start_desktop_scan': 'Start Desktop Scan',
            'authenticator.stop_scanning': 'Stop Scanning',
            'authenticator.scanning_desktop': 'Scanning desktop for QR codes...',
            'authenticator.your_accounts': 'Your Accounts',
            'authenticator.total': 'Total',
            'authenticator.no_accounts': 'No authenticator accounts yet',
            'authenticator.add_first_account': 'Add your first account to get started',
            'authenticator.account_name': 'Account Name',
            'authenticator.account_name_placeholder': 'Enter account name...',
            'authenticator.issuer': 'Issuer/Service',
            'authenticator.issuer_placeholder': 'e.g. Google, GitHub, etc.',
            'authenticator.secret_key': 'Secret Key',
            'authenticator.secret_placeholder': 'Enter or paste secret key...',
            'authenticator.digits': 'Digits',
            'authenticator.period': 'Period (seconds)',
            'authenticator.copy_code': 'Copy Code',
            'authenticator.edit_account': 'Edit Account',
            'authenticator.delete_account': 'Delete Account',
            'authenticator.expires_in': 'Expires in',
            'authenticator.qr_scan_ready': 'Position the QR code within the camera view',
            'authenticator.start_camera': 'Start Camera',
            'authenticator.switch_to_manual': 'Enter manually',
            'authenticator.switch_to_qr': 'Scan QR Code',
            'authenticator.qr_scanned': 'QR Code Scanned',
            'authenticator.camera_placeholder': 'Camera will be available in a future update',
            'authenticator.desktop_scan_ready': 'Desktop scanning will capture QR codes from your screen',
            'authenticator.qr_detected': 'QR Code Detected!',
            'authenticator.account_loaded': 'Account information loaded successfully',
            'authenticator.or_manual': 'Or',
            'authenticator.enter_manually': 'enter manually',
            'authenticator.have_qr': 'Have a QR code?',

            'settings.title': 'Settings',
            'settings.subtitle': 'Configure your vault and security preferences',
            'settings.security': 'Security',
            'settings.change_master_password': 'Change Master Password',
            'settings.auto_lock': 'Auto-lock vault after inactivity',
            'settings.auto_lock_time': 'Auto-lock time (minutes)',
            'settings.clear_clipboard': 'Clear clipboard after copying',
            'settings.clipboard_timeout': 'Clipboard timeout (seconds)',
            'settings.backup': 'Backup & Restore',
            'settings.export_vault': 'Export Vault',
            'settings.export_help': 'Export your vault data to a JSON file',
            'settings.import_vault': 'Import Vault',
            'settings.import_help': 'Import vault data from a JSON file',
            'settings.auto_backup': 'Enable automatic backups',
            'settings.current_password': 'Current Password',
            'settings.enter_current_password': 'Enter current password...',
            'settings.new_password': 'New Password',
            'settings.enter_new_password': 'Enter new password...',
            'settings.confirm_new_password': 'Confirm New Password',
            'settings.change_password': 'Change Password',

            'help.title': 'Help & Documentation',
            'help.subtitle': 'Learn how to use Secure Vault effectively',
            'help.getting_started': 'Getting Started',
            'help.step1': 'Create a strong master password to secure your vault',
            'help.step2': 'Add your first password by clicking the "Add Password" button',
            'help.step3': 'Use the Authenticator tab to add two-factor authentication accounts',
            'help.step4': 'Configure security settings to match your preferences',
            'help.step5': 'Regularly backup your vault using the export feature',
            'help.key_features': 'Key Features:',
            'help.feature1': 'Secure password storage with military-grade encryption',
            'help.feature2': 'Two-factor authentication code generation',
            'help.feature3': 'Password strength analysis and generation',
            'help.feature4': 'Automatic vault locking for security',
            'help.feature5': 'Secure backup and restore functionality',
            'help.feature6': 'Cross-platform compatibility',
            'help.feature7': 'Desktop QR code scanning for easy TOTP setup',
            'help.security_guide': 'Security Guide',
            'help.master_password_tip': 'Master Password:',
            'help.master_password_desc': 'Use a strong, unique master password that you don\'t use anywhere else. Consider using a passphrase with multiple words.',
            'help.backup_tip': 'Regular Backups:',
            'help.backup_desc': 'Export your vault regularly and store backups in a secure location. This protects against data loss.',
            'help.auto_lock_tip': 'Auto-Lock:',
            'help.auto_lock_desc': 'Enable auto-lock to automatically secure your vault when you\'re away from your computer.',
            'help.two_factor_tip': 'Two-Factor Authentication:',
            'help.two_factor_desc': 'Use the built-in authenticator for accounts that support 2FA to add an extra layer of security.',
            'help.desktop_qr_tip': 'Desktop QR Scanning:',
            'help.desktop_qr_desc': 'Use the desktop QR scanner to easily add TOTP accounts by scanning QR codes displayed on your screen from any application or website.',
            'help.about': 'About',
            'help.description': 'Secure password manager and authenticator',
            'help.built_with': 'www.bavamont.com',
            'help.powered_by': 'Powered by military-grade encryption and modern security standards',
            'help.auto_updates': 'Automatic updates keep your security current',

            'updater.title': 'App Updater',
            'updater.checking': 'Checking for updates...',
            'updater.available': 'Update Available',
            'updater.not_available': 'You are using the latest version',
            'updater.downloading': 'Downloading update...',
            'updater.downloaded': 'Update downloaded. Restart to install.',
            'updater.error': 'Update failed',
            'updater.install_now': 'Install Now',
            'updater.install_later': 'Install Later',
            'updater.skip_version': 'Skip This Version',
            'updater.check_updates': 'Check for Updates',
            'updater.current_version': 'Current Version:',
            'updater.new_version': 'New Version:',
            'updater.release_notes': 'Release Notes',
            'updater.download_progress': 'Download Progress:',
            'updater.auto_check': 'Check for updates automatically',

            'delete.title': 'Confirm Delete',
            'delete.password_message': 'Are you sure you want to delete this password? This action cannot be undone.',
            'delete.account_message': 'Are you sure you want to delete this account? This action cannot be undone.',
            'delete.password_name': 'Password Name:',
            'delete.account_name': 'Account Name:',

            'common.save': 'Save',
            'common.cancel': 'Cancel',
            'common.delete': 'Delete',
            'common.edit': 'Edit',
            'common.copy': 'Copy',
            'common.ok': 'OK',
            'common.yes': 'Yes',
            'common.no': 'No',
            'common.apply': 'Apply',
            'common.reset': 'Reset',
            'common.default': 'Default',
            'common.fill_all_fields': 'Please fill in all fields',
            'common.name_password_required': 'Name and password are required',
            'common.enter_master_password': 'Please enter your master password',
            'common.name_secret_required': 'Name and secret key are required',
            'common.unexpected_error': 'Unexpected error',
            'common.promise_error': 'Promise error',
            'common.unknown_error': 'Unknown error',
            'common.confirm_delete_password': 'Are you sure you want to delete this password?',
            'common.confirm_delete_account': 'Are you sure you want to delete this account?',

            'toast.vault_created': 'Vault created successfully',
            'toast.vault_unlocked': 'Vault unlocked',
            'toast.vault_locked': 'Vault locked',
            'toast.password_saved': 'Password saved',
            'toast.password_deleted': 'Password deleted',
            'toast.password_copied': 'Password copied to clipboard',
            'toast.username_copied': 'Username copied to clipboard',
            'toast.account_saved': 'Account saved',
            'toast.account_deleted': 'Account deleted',
            'toast.code_copied': 'Authentication code copied',
            'toast.vault_exported': 'Vault exported successfully',
            'toast.vault_imported': 'Vault imported successfully',
            'toast.master_password_changed': 'Master password changed',
            'toast.clipboard_cleared': 'Clipboard cleared',
            'toast.invalid_master_password': 'Invalid master password',
            'toast.passwords_dont_match': 'Passwords don\'t match',
            'toast.weak_password': 'Password is too weak',
            'toast.invalid_secret_key': 'Invalid secret key',
            'toast.update_checking': 'Checking for updates...',
            'toast.update_available': 'Update available!',
            'toast.update_not_available': 'No updates available',
            'toast.update_downloaded': 'Update ready to install',
            'toast.update_error': 'Update check failed',
            'toast.qr_camera_unavailable': 'QR Camera feature will be available in a future update. Please use manual entry for now.',
            'toast.qr_scanned_success': 'QR code scanned successfully!',
            'toast.desktop_scan_failed': 'Failed to start desktop scanning',
            'toast.desktop_scan_started': 'Desktop scanning started',
            'toast.desktop_scan_stopped': 'Desktop scanning stopped',
            'toast.setup_vault_failed': 'Failed to setup vault',
            'toast.unlock_vault_failed': 'Failed to unlock vault',
            'toast.lock_vault_failed': 'Failed to lock vault',
            'toast.save_account_failed': 'Failed to save account',
            'toast.change_password_failed': 'Failed to change password',
            'toast.export_vault_failed': 'Failed to export vault',
            'toast.import_vault_failed': 'Failed to import vault',
            'toast.delete_password_failed': 'Failed to delete password',
            'toast.delete_account_failed': 'Failed to delete account',
            'toast.install_update_failed': 'Failed to install update',
            'toast.desktop_scan_sources_unavailable': 'No desktop sources available',
            'toast.invalid_qr_format': 'Invalid QR code format'
        },
        de: {
            'app.title': 'Secure Vault',
            'app.subtitle': 'Sicherer Passwort-Manager und Authentifikator',

            'nav.passwords': 'Passwörter',
            'nav.passwords.tooltip': 'Passwörter verwalten',
            'nav.authenticator': 'Authentifikator',
            'nav.authenticator.tooltip': 'Zwei-Faktor-Authentifizierungscodes',
            'nav.settings': 'Einstellungen',
            'nav.settings.tooltip': 'Anwendungseinstellungen',
            'nav.help': 'Hilfe',
            'nav.help.tooltip': 'Benutzerhandbuch und Dokumentation',

            'lock.subtitle': 'Geben Sie Ihr Master-Passwort ein, um Ihren Tresor zu entsperren',
            'lock.master_password': 'Master-Passwort',
            'lock.enter_password': 'Master-Passwort eingeben...',
            'lock.unlock_vault': 'Tresor entsperren',

            'setup.title': 'Master-Passwort einrichten',
            'setup.description': 'Erstellen Sie ein starkes Master-Passwort, um Ihren Tresor zu sichern',
            'setup.master_password': 'Master-Passwort',
            'setup.enter_password': 'Starkes Master-Passwort eingeben...',
            'setup.confirm_password': 'Passwort bestätigen',
            'setup.create_vault': 'Tresor erstellen',

            'header.lock_vault': 'Tresor sperren',

            'passwords.title': 'Passwort-Manager',
            'passwords.subtitle': 'Passwörter sicher speichern und verwalten',
            'passwords.search': 'Suche & Aktionen',
            'passwords.add_password': 'Passwort hinzufügen',
            'passwords.search_placeholder': 'Passwörter suchen...',
            'passwords.all_categories': 'Alle Kategorien',
            'passwords.category_website': 'Website',
            'passwords.category_app': 'Anwendung',
            'passwords.category_email': 'E-Mail',
            'passwords.category_social': 'Soziale Medien',
            'passwords.category_financial': 'Finanzen',
            'passwords.category_other': 'Andere',
            'passwords.your_passwords': 'Ihre Passwörter',
            'passwords.total': 'Gesamt',
            'passwords.no_passwords': 'Noch keine Passwörter gespeichert',
            'passwords.add_first_password': 'Fügen Sie Ihr erstes Passwort hinzu',
            'passwords.name': 'Name',
            'passwords.name_placeholder': 'Beschreibenden Namen eingeben...',
            'passwords.username': 'Benutzername/E-Mail',
            'passwords.username_placeholder': 'Benutzername oder E-Mail eingeben...',
            'passwords.password': 'Passwort',
            'passwords.password_placeholder': 'Passwort eingeben...',
            'passwords.url': 'URL',
            'passwords.url_placeholder': 'https://beispiel.de',
            'passwords.category': 'Kategorie',
            'passwords.notes': 'Notizen',
            'passwords.notes_placeholder': 'Zusätzliche Notizen (optional)...',
            'passwords.edit_password': 'Passwort bearbeiten',
            'passwords.delete_password': 'Passwort löschen',
            'passwords.copy_username': 'Benutzername kopieren',
            'passwords.copy_password': 'Passwort kopieren',
            'passwords.visit_website': 'Website besuchen',
            'passwords.generate_password': 'Passwort generieren',
            'passwords.strength_very_weak': 'Sehr schwach',
            'passwords.strength_weak': 'Schwach',
            'passwords.strength_fair': 'Mittel',
            'passwords.strength_good': 'Gut',
            'passwords.strength_strong': 'Stark',

            'authenticator.title': 'Authentifikator',
            'authenticator.subtitle': 'Zwei-Faktor-Authentifizierungscodes',
            'authenticator.add_account': 'Konto hinzufügen',
            'authenticator.scan_qr': 'QR-Code scannen',
            'authenticator.scan_desktop': 'Desktop scannen',
            'authenticator.manual_entry': 'Manuelle Eingabe',
            'authenticator.description': 'Konten hinzufügen, um zeitbasierte Einmalpasswörter (TOTP) für die Zwei-Faktor-Authentifizierung zu generieren',
            'authenticator.desktop_scan_description': 'QR-Codes von Ihrem Desktop-Bildschirm scannen',
            'authenticator.start_desktop_scan': 'Desktop-Scan starten',
            'authenticator.stop_scanning': 'Scannen stoppen',
            'authenticator.scanning_desktop': 'Desktop wird nach QR-Codes gescannt...',
            'authenticator.your_accounts': 'Ihre Konten',
            'authenticator.total': 'Gesamt',
            'authenticator.no_accounts': 'Noch keine Authentifikator-Konten',
            'authenticator.add_first_account': 'Fügen Sie Ihr erstes Konto hinzu',
            'authenticator.account_name': 'Kontoname',
            'authenticator.account_name_placeholder': 'Kontoname eingeben...',
            'authenticator.issuer': 'Aussteller/Service',
            'authenticator.issuer_placeholder': 'z.B. Google, GitHub, etc.',
            'authenticator.secret_key': 'Geheimer Schlüssel',
            'authenticator.secret_placeholder': 'Geheimen Schlüssel eingeben oder einfügen...',
            'authenticator.digits': 'Ziffern',
            'authenticator.period': 'Periode (Sekunden)',
            'authenticator.copy_code': 'Code kopieren',
            'authenticator.edit_account': 'Konto bearbeiten',
            'authenticator.delete_account': 'Konto löschen',
            'authenticator.expires_in': 'Läuft ab in',
            'authenticator.qr_scan_ready': 'Positionieren Sie den QR-Code in der Kameraansicht',
            'authenticator.start_camera': 'Kamera starten',
            'authenticator.switch_to_manual': 'Manuell eingeben',
            'authenticator.switch_to_qr': 'QR-Code scannen',
            'authenticator.qr_scanned': 'QR-Code gescannt',
            'authenticator.camera_placeholder': 'Kamera wird in einem zukünftigen Update verfügbar sein',
            'authenticator.desktop_scan_ready': 'Desktop-Scanning erfasst QR-Codes von Ihrem Bildschirm',
            'authenticator.qr_detected': 'QR-Code erkannt!',
            'authenticator.account_loaded': 'Kontoinformationen erfolgreich geladen',
            'authenticator.or_manual': 'Oder',
            'authenticator.enter_manually': 'manuell eingeben',
            'authenticator.have_qr': 'Haben Sie einen QR-Code?',

            'settings.title': 'Einstellungen',
            'settings.subtitle': 'Tresor- und Sicherheitseinstellungen konfigurieren',
            'settings.security': 'Sicherheit',
            'settings.change_master_password': 'Master-Passwort ändern',
            'settings.auto_lock': 'Tresor automatisch nach Inaktivität sperren',
            'settings.auto_lock_time': 'Auto-Sperrzeit (Minuten)',
            'settings.clear_clipboard': 'Zwischenablage nach dem Kopieren leeren',
            'settings.clipboard_timeout': 'Zwischenablage-Timeout (Sekunden)',
            'settings.backup': 'Sicherung & Wiederherstellung',
            'settings.export_vault': 'Tresor exportieren',
            'settings.export_help': 'Tresor-Daten in eine JSON-Datei exportieren',
            'settings.import_vault': 'Tresor importieren',
            'settings.import_help': 'Tresor-Daten aus einer JSON-Datei importieren',
            'settings.auto_backup': 'Automatische Sicherungen aktivieren',
            'settings.current_password': 'Aktuelles Passwort',
            'settings.enter_current_password': 'Aktuelles Passwort eingeben...',
            'settings.new_password': 'Neues Passwort',
            'settings.enter_new_password': 'Neues Passwort eingeben...',
            'settings.confirm_new_password': 'Neues Passwort bestätigen',
            'settings.change_password': 'Passwort ändern',

            'help.title': 'Hilfe & Dokumentation',
            'help.subtitle': 'Lernen Sie, wie Sie Secure Vault effektiv nutzen',
            'help.getting_started': 'Erste Schritte',
            'help.step1': 'Erstellen Sie ein starkes Master-Passwort, um Ihren Tresor zu sichern',
            'help.step2': 'Fügen Sie Ihr erstes Passwort hinzu, indem Sie auf "Passwort hinzufügen" klicken',
            'help.step3': 'Verwenden Sie den Authentifikator-Tab, um Zwei-Faktor-Authentifizierungskonten hinzuzufügen',
            'help.step4': 'Konfigurieren Sie Sicherheitseinstellungen nach Ihren Präferenzen',
            'help.step5': 'Sichern Sie Ihren Tresor regelmäßig mit der Export-Funktion',
            'help.key_features': 'Hauptfunktionen:',
            'help.feature1': 'Sichere Passwort-Speicherung mit militärischer Verschlüsselung',
            'help.feature2': 'Zwei-Faktor-Authentifizierungscode-Generierung',
            'help.feature3': 'Passwort-Stärke-Analyse und -Generierung',
            'help.feature4': 'Automatische Tresor-Sperrung für Sicherheit',
            'help.feature5': 'Sichere Sicherungs- und Wiederherstellungsfunktion',
            'help.feature6': 'Plattformübergreifende Kompatibilität',
            'help.feature7': 'Desktop-QR-Code-Scanning für einfache TOTP-Einrichtung',
            'help.security_guide': 'Sicherheitsleitfaden',
            'help.master_password_tip': 'Master-Passwort:',
            'help.master_password_desc': 'Verwenden Sie ein starkes, einzigartiges Master-Passwort, das Sie nirgendwo anders verwenden. Erwägen Sie eine Passphrase mit mehreren Wörtern.',
            'help.backup_tip': 'Regelmäßige Sicherungen:',
            'help.backup_desc': 'Exportieren Sie Ihren Tresor regelmäßig und speichern Sie Sicherungen an einem sicheren Ort. Dies schützt vor Datenverlust.',
            'help.auto_lock_tip': 'Auto-Sperre:',
            'help.auto_lock_desc': 'Aktivieren Sie die Auto-Sperre, um Ihren Tresor automatisch zu sichern, wenn Sie vom Computer weg sind.',
            'help.two_factor_tip': 'Zwei-Faktor-Authentifizierung:',
            'help.two_factor_desc': 'Verwenden Sie den integrierten Authentifikator für Konten, die 2FA unterstützen, um eine zusätzliche Sicherheitsebene hinzuzufügen.',
            'help.desktop_qr_tip': 'Desktop-QR-Scanning:',
            'help.desktop_qr_desc': 'Verwenden Sie den Desktop-QR-Scanner, um TOTP-Konten einfach hinzuzufügen, indem Sie QR-Codes scannen, die auf Ihrem Bildschirm von jeder Anwendung oder Website angezeigt werden.',
            'help.about': 'Über',
            'help.description': 'Sicherer Passwort-Manager und Authentifikator',
            'help.built_with': 'www.bavamont.com',
            'help.powered_by': 'Angetrieben von militärischer Verschlüsselung und modernen Sicherheitsstandards',
            'help.auto_updates': 'Automatische Updates halten Ihre Sicherheit aktuell',

            'updater.title': 'App-Updater',
            'updater.checking': 'Suche nach Updates...',
            'updater.available': 'Update verfügbar',
            'updater.not_available': 'Sie verwenden die neueste Version',
            'updater.downloading': 'Update wird heruntergeladen...',
            'updater.downloaded': 'Update heruntergeladen. Neu starten zum Installieren.',
            'updater.error': 'Update fehlgeschlagen',
            'updater.install_now': 'Jetzt installieren',
            'updater.install_later': 'Später installieren',
            'updater.skip_version': 'Diese Version überspringen',
            'updater.check_updates': 'Nach Updates suchen',
            'updater.current_version': 'Aktuelle Version:',
            'updater.new_version': 'Neue Version:',
            'updater.release_notes': 'Versionshinweise',
            'updater.download_progress': 'Download-Fortschritt:',
            'updater.auto_check': 'Automatisch nach Updates suchen',

            'delete.title': 'Löschen bestätigen',
            'delete.password_message': 'Sind Sie sicher, dass Sie dieses Passwort löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.',
            'delete.account_message': 'Sind Sie sicher, dass Sie dieses Konto löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.',
            'delete.password_name': 'Passwort-Name:',
            'delete.account_name': 'Konto-Name:',

            'common.save': 'Speichern',
            'common.cancel': 'Abbrechen',
            'common.delete': 'Löschen',
            'common.edit': 'Bearbeiten',
            'common.copy': 'Kopieren',
            'common.ok': 'OK',
            'common.yes': 'Ja',
            'common.no': 'Nein',
            'common.apply': 'Anwenden',
            'common.reset': 'Zurücksetzen',
            'common.default': 'Standard',
            'common.fill_all_fields': 'Bitte füllen Sie alle Felder aus',
            'common.name_password_required': 'Name und Passwort sind erforderlich',
            'common.enter_master_password': 'Bitte geben Sie Ihr Master-Passwort ein',
            'common.name_secret_required': 'Name und geheimer Schlüssel sind erforderlich',
            'common.unexpected_error': 'Unerwarteter Fehler',
            'common.promise_error': 'Promise-Fehler',
            'common.unknown_error': 'Unbekannter Fehler',
            'common.confirm_delete_password': 'Sind Sie sicher, dass Sie dieses Passwort löschen möchten?',
            'common.confirm_delete_account': 'Sind Sie sicher, dass Sie dieses Konto löschen möchten?',

            'toast.vault_created': 'Tresor erfolgreich erstellt',
            'toast.vault_unlocked': 'Tresor entsperrt',
            'toast.vault_locked': 'Tresor gesperrt',
            'toast.password_saved': 'Passwort gespeichert',
            'toast.password_deleted': 'Passwort gelöscht',
            'toast.password_copied': 'Passwort in Zwischenablage kopiert',
            'toast.username_copied': 'Benutzername in Zwischenablage kopiert',
            'toast.account_saved': 'Konto gespeichert',
            'toast.account_deleted': 'Konto gelöscht',
            'toast.code_copied': 'Authentifizierungscode kopiert',
            'toast.vault_exported': 'Tresor erfolgreich exportiert',
            'toast.vault_imported': 'Tresor erfolgreich importiert',
            'toast.master_password_changed': 'Master-Passwort geändert',
            'toast.clipboard_cleared': 'Zwischenablage geleert',
            'toast.invalid_master_password': 'Ungültiges Master-Passwort',
            'toast.passwords_dont_match': 'Passwörter stimmen nicht überein',
            'toast.weak_password': 'Passwort ist zu schwach',
            'toast.invalid_secret_key': 'Ungültiger geheimer Schlüssel',
            'toast.update_checking': 'Suche nach Updates...',
            'toast.update_available': 'Update verfügbar!',
            'toast.update_not_available': 'Keine Updates verfügbar',
            'toast.update_downloaded': 'Update bereit zur Installation',
            'toast.update_error': 'Update-Prüfung fehlgeschlagen',
            'toast.qr_camera_unavailable': 'QR-Kamera-Funktion wird in einem zukünftigen Update verfügbar sein. Bitte verwenden Sie vorerst die manuelle Eingabe.',
            'toast.qr_scanned_success': 'QR-Code erfolgreich gescannt!',
            'toast.desktop_scan_failed': 'Desktop-Scanning konnte nicht gestartet werden',
            'toast.desktop_scan_started': 'Desktop-Scanning gestartet',
            'toast.desktop_scan_stopped': 'Desktop-Scanning gestoppt',
            'toast.setup_vault_failed': 'Tresor-Einrichtung fehlgeschlagen',
            'toast.unlock_vault_failed': 'Tresor entsperren fehlgeschlagen',
            'toast.lock_vault_failed': 'Tresor sperren fehlgeschlagen',
            'toast.save_account_failed': 'Konto speichern fehlgeschlagen',
            'toast.change_password_failed': 'Passwort ändern fehlgeschlagen',
            'toast.export_vault_failed': 'Tresor exportieren fehlgeschlagen',
            'toast.import_vault_failed': 'Tresor importieren fehlgeschlagen',
            'toast.delete_password_failed': 'Passwort löschen fehlgeschlagen',
            'toast.delete_account_failed': 'Konto löschen fehlgeschlagen',
            'toast.install_update_failed': 'Update installieren fehlgeschlagen',
            'toast.desktop_scan_sources_unavailable': 'Keine Desktop-Quellen verfügbar',
            'toast.invalid_qr_format': 'Ungültiges QR-Code-Format'
        }
    },

    init: function() {
        this.detectLanguage();
        this.setupLanguageSelector();
        this.translatePage();
    },

    detectLanguage: function() {
        var savedLanguage = localStorage.getItem('secureVaultLanguage');
        if (savedLanguage && this.translations[savedLanguage]) {
            this.currentLanguage = savedLanguage;
        } else {
            var systemLanguage = navigator.language.substring(0, 2);
            if (this.translations[systemLanguage]) {
                this.currentLanguage = systemLanguage;
            }
        }
    },

    setupLanguageSelector: function() {
        var selector = document.getElementById('language-selector');
        if (selector) {
            selector.value = this.currentLanguage;
            var self = this;
            selector.addEventListener('change', function(e) {
                self.setLanguage(e.target.value);
            });
        }
    },

    setLanguage: function(language) {
        if (this.translations[language]) {
            this.currentLanguage = language;
            localStorage.setItem('secureVaultLanguage', language);
            this.translatePage();
        }
    },

    t: function(key, params) {
        params = params || {};
        var translation = this.translations[this.currentLanguage] && this.translations[this.currentLanguage][key] ||
                          this.translations['en'] && this.translations['en'][key] ||
                          key;

        var result = translation;
        for (var param in params) {
            if (params.hasOwnProperty(param)) {
                result = result.replace('{' + param + '}', params[param]);
            }
        }

        return result;
    },

    translatePage: function() {
        var self = this;
        document.querySelectorAll('[data-i18n]').forEach(function(element) {
            var key = element.getAttribute('data-i18n');
            element.textContent = self.t(key);
        });

        document.querySelectorAll('[data-i18n-placeholder]').forEach(function(element) {
            var key = element.getAttribute('data-i18n-placeholder');
            element.placeholder = self.t(key);
        });

        document.querySelectorAll('[data-i18n-title]').forEach(function(element) {
            var key = element.getAttribute('data-i18n-title');
            element.title = self.t(key);
        });

        document.title = this.t('app.title');
    }
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
        i18n.init();
    });
} else {
    i18n.init();
}

if (typeof module !== 'undefined' && module.exports) {
    module.exports = i18n;
}